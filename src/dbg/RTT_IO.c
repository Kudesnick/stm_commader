/***************************************************************************************************
 *   Project:       stm_commander
 *   Author:        Stulov Tikhon
 ***************************************************************************************************
 *   Distribution:  
 *
 ***************************************************************************************************
 *   MCU Family:    STM32F
 *   Compiler:      ARMCC
 ***************************************************************************************************
 *   File:          swo.c
 *   Description:   
 *
 ***************************************************************************************************
 *   History:       02.06.2019 - file created
 *
 **************************************************************************************************/

/***************************************************************************************************
 *                                      INCLUDED FILES
 **************************************************************************************************/

#include "RTE_Components.h"
#include CMSIS_device_header

/***************************************************************************************************
 *                                       DEFINITIONS
 **************************************************************************************************/

/***************************************************************************************************
 *                                      PRIVATE TYPES
 **************************************************************************************************/

/***************************************************************************************************
 *                                     PRIVATE FUNVTIONS
 **************************************************************************************************/

#if defined(RTE_Compiler_IO_TTY_User) || defined(RTE_Compiler_IO_STDOUT_User) || defined(RTE_Compiler_IO_STDERR_User)
extern unsigned SEGGER_RTT_PutChar(unsigned BufferIndex, char c);
#endif

#if defined(RTE_Compiler_IO_STDIN_User)
extern int SEGGER_RTT_GetKey(void);
#endif

#ifdef RTE_Compiler_IO_TTY_User
void ttywrch (int ch)
{
    SEGGER_RTT_PutChar(0, ch);
}
#endif

#ifdef RTE_Compiler_IO_STDOUT_User
int stdout_putchar(int ch)
{    
    return SEGGER_RTT_PutChar(0, ch);
}
#endif

#ifdef RTE_Compiler_IO_STDIN_User
int stdin_getchar (void)
{
    return SEGGER_RTT_GetKey();
}
#endif

#ifdef RTE_Compiler_IO_STDERR_User
int stderr_putchar (int ch)
{
    return SEGGER_RTT_PutChar(0, ch);
}
#endif

/***************************************************************************************************
 *                                       END OF FILE
 **************************************************************************************************/
